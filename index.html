<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mizu Coder v2.1.0</title>
  <meta name="description" content="Mizu Coder - Editor en vivo HTML, CSS y JS con modos avanzados">
  
  <!-- Tailwind (del estable, se mantiene para compatibilidad de estilos) -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Tipografía Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome (se mantiene por compatibilidad) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Core CSS -->
  <link rel="stylesheet" href="src/css/core.css">
</head>
<body>

  <!-- Header principal -->
  <header class="header">
    <h1>Mizu Coder</h1>
    <div class="header-controls">
      
      <!-- Slider de tamaño -->
      <input type="range" id="resizerSlider" class="progress-bar" min="20" max="80" value="50">
      <span id="saveIndicator" class="save-indicator">Guardado</span>

      <!-- Selector de modo estilo Apple -->
      <div class="mode-selector-container">
        <div class="mode-selector-button" id="modeSelectorButton">
          <i class="fas fa-cube"></i>
          <span id="currentModeText">Modo Unificado</span>
          <i class="fas fa-chevron-down" style="font-size: 0.75rem;"></i>
        </div>
        <div class="mode-selector-dropdown" id="modeSelectorDropdown">
          <div class="mode-option active" data-mode="unified">
            <div class="mode-icon" style="background-color: rgba(239, 68, 68, 0.2); color: #ef4444;">
              <i class="fas fa-file-code"></i>
            </div>
            <div class="mode-info">
              <div class="mode-title">Modo Unificado</div>
              <div class="mode-description">Todo el código en un solo archivo HTML</div>
            </div>
            <div class="mode-badge">Activo</div>
          </div>
          
          <div class="mode-option" data-mode="separated">
            <div class="mode-icon" style="background-color: rgba(16, 185, 129, 0.2); color: #10b981;">
              <i class="fas fa-file-alt"></i>
            </div>
            <div class="mode-info">
              <div class="mode-title">Modo Separado</div>
              <div class="mode-description">HTML + CSS + JS en archivos separados</div>
            </div>
          </div>
          
          <div class="mode-option" data-mode="mizu">
            <div class="mode-icon" style="background-color: rgba(139, 92, 246, 0.2); color: #8b5cf6;">
              <i class="fas fa-folder-tree"></i>
            </div>
            <div class="mode-info">
              <div class="mode-title">Estructura Mizu</div>
              <div class="mode-description">Basado en core.js + core.css</div>
            </div>
            <div class="mode-badge">En desarrollo</div>
          </div>
          
          <div class="mode-option" data-mode="custom">
            <div class="mode-icon" style="background-color: rgba(245, 158, 11, 0.2); color: #f59e0b;">
              <i class="fas fa-folder-plus"></i>
            </div>
            <div class="mode-info">
              <div class="mode-title">Modo Personalizado</div>
              <div class="mode-description">Soporte para múltiples archivos JS/CSS</div>
            </div>
            <div class="mode-badge">En desarrollo</div>
          </div>
        </div>
      </div>

      <!-- Botones -->
      <button id="exportButton" class="action-button">Exportar</button>
      <button id="resetButton" class="action-button">Reiniciar</button>
    </div>
  </header>

  <!-- Contenedor principal -->
  <main class="container">
    <!-- Panel de editores -->
    <section id="editorContainer" class="editor-container">
      <!-- Pestañas -->
      <div class="tabs">
        <button id="html-tab" class="tab-button active">HTML</button>
        <button id="css-tab" class="tab-button">CSS</button>
        <button id="js-tab" class="tab-button">JS</button>
        <button id="console-tab" class="tab-button">Consola</button>
        <!-- Aquí se podrán añadir nuevas pestañas dinámicas JS en v2.1.0 -->
      </div>

      <!-- Editor HTML -->
      <div id="html-editor-wrapper" class="editor-wrapper">
        <div id="html-line-numbers" class="line-numbers">1</div>
        <textarea id="htmlEditor" placeholder="Escribe tu HTML aquí..." class="editor"></textarea>
      </div>

      <!-- Editor CSS -->
      <div id="css-editor-wrapper" class="editor-wrapper" style="display:none;">
        <div id="css-line-numbers" class="line-numbers">1</div>
        <textarea id="cssEditor" placeholder="Escribe tu CSS aquí..." class="editor"></textarea>
      </div>

      <!-- Editor JS -->
      <div id="js-editor-wrapper" class="editor-wrapper" style="display:none;">
        <div id="js-line-numbers" class="line-numbers">1</div>
        <textarea id="jsEditor" placeholder="Escribe tu JavaScript aquí..." class="editor"></textarea>
      </div>

      <!-- Consola -->
      <div id="console-wrapper" class="console-container" style="display:none;">
        <div class="console-header">
          <div class="console-title">
            <i class="fas fa-terminal"></i>
            <span>Consola de Salida</span>
          </div>
          <div class="console-controls">
            <button id="clearConsole" title="Limpiar consola">
              <i class="fas fa-trash-alt"></i> Limpiar
            </button>
          </div>
        </div>
        <div class="console-content" id="consoleContent">
          <div class="log-entry info">Consola inicializada. Los mensajes de console.log aparecerán aquí.</div>
        </div>
      </div>
    </section>

    <!-- Resizer -->
    <div id="resizer" class="resizer"></div>

    <!-- Vista previa -->
    <section id="previewContainer" class="preview-container">
      <iframe id="previewFrame" class="preview-frame" sandbox="allow-same-origin allow-scripts"></iframe>
      <div id="debugInfo" class="debug-info">v2.1.0 - Listo</div>
    </section>
  </main>

  <!-- Scripts principales -->
  <script src="src/js/core.js"></script>
  <script src="src/js/funcionables2_0_0.js"></script>
  <script src="src/js/nuevasfunciones.js"></script>
</body>
</html>
